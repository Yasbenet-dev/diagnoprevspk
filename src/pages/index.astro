---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const info = await getCollection('info');
const profesionales = await getCollection('profesionales');
export const prerender = true
---

<Layout tittle="Diagnoprev" centro="Diagnoprev - Centros Médicos">
	<main class="flex  items-center justify-center  h-screen w-screen m-0 p-0  bg-cover bg-center overflow-hidden" style="background-image: url('/img/background.jpg'); background-position: center;"> 
		<h1 class='text-center text-7xl p-10 font-extrabold text-shadow-black'>Bienvenido a <span class='block'> Diagnoprev</span> </h1>
	</main>
	<section class=" p-10" aria-label="Informacion centros medicos">
		<div class="px4 mx-auto max-w-screen-xl">
			<div class='grid pad-6 md:grid-cols-2 margin-4 gap-4'>
				{
				info.map(info => {
					const { data } = info;
					const { centro, img, horario, descripcion } = data;
					return (
					<article><a href={`/clinicas/${info.slug}`}  class="flex items-center">
						<img  class="rounded w-72 h-auto mx-auto max-w-screen-xl "
							src={img}
							alt={centro}
						/></a><div class="md:flex justify-center items-center flex-col text-center">
							<h3>{centro}</h3>
							<p>{horario}</p>
							<p>{descripcion}</p>
						</div>
					</article>
					);})
				}
			</div>
		</div>
	</section> 


<section class=" flex justify-center px-6 mx-auto max-w-screen-xl" id="serivices">
	<h2 class='text-center text-3xl font-bold'>Profesionales Disponibles</h2>
	<div class='grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-10'>
		{
			profesionales.map(profesional => {
				const { data, slug } = profesional;
				const { nombre, especialidad, clinicaId } = data;
				return (
					<article ={slug} class="bg-black p-4 rounded shadow hover:shadow-lg transition-shadow">
						<h3 class="text-xl font-semibold">{nombre}</h3>
						<p>Especialidad: {especialidad}</p>
						<p>Clínicas: {clinicaId.join(', ')}</p>
					</article>
				);
			})
		}
	</div>
</section>


</Layout>